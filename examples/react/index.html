<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ledap-react index</title>
    <link rel="stylesheet" href="../dist/ledap.react.css">
    <script src="../assets/lib/react/react.development.js"></script>
    <script src="../assets/lib/react/react-dom.development.js"></script>
    <script src="../assets/lib/babel.min.js"></script>
  </head>

  <body>
      <div id="root" class="container"></div>

      <script src="../dist/ledap.js"></script>
      <script src="../dist/ledap.react.js"></script>
      <script src="./ledap-init.js"></script>
  </body>

  <script type="text/babel">
    const { ledap,ledapReact,React,ReactDOM } = window
    const { Model,WebDataProvider } = ledap;
    const { useState,useEffect } = React
    const { BaseInput,FormItem } = ledapReact

    // console.log({
    //     ledap,
    //     ledapReact,
    //     React,
    //     ReactDOM
    // })
    function ModelTestComponent() {
        const [model1, setModel1] = useState(new Model());
        useEffect(() => {
            //数据可以从任何地方来，也可以是本地的
            ledap.App.request(
            {
                url: "/data/model.json",
            },
            (data) => {
                const model1 = ledap.App.getModel(data.data);
                setModel1(model1);
            },
            (error) => {}
            );
        }, []);

        return <div>
            {/*使用默认input*/}
            <FormItem attr="name" model={model1} FormComponent={BaseInput}></FormItem>
            </div>
    }

    function App() {
        return (
            <div className="app">
                this is app
                <ModelTestComponent />
            </div>
        );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);

  </script>
 
</html>
